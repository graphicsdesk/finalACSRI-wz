{"version":3,"sources":["scrollyscript.js"],"names":["y2002","d3","selectAll","y2007","y2016","y2023","y2024","groups","setYearVisibility","visibleKeys","Object","entries","forEach","key","selection","includes","style","transition","duration","on","select","classed","scroller","scrollama","setup","step","offset","debug","onStepEnter","element","direction","index","event","CustomEvent","detail","dispatchEvent","onStepExit","window","addEventListener","resize"],"mappings":"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","file":"scrollyscript.5bbdba65.js","sourceRoot":"../src","sourcesContent":["const y2002 = d3.selectAll(\".g-group2002\");\nconst y2007 = d3.selectAll(\".g-group2007\");\nconst y2016 = d3.selectAll(\".g-group2016\");\nconst y2023 = d3.selectAll(\".g-group2023\");\nconst y2024 = d3.selectAll(\".g-group2024\");\n\nconst groups = {\n    y2002,\n    y2007,\n    y2016,\n    y2023,\n    y2024\n  };\n  \nfunction setYearVisibility(visibleKeys = []) {\n    Object.entries(groups).forEach(([key, selection]) => {\n      const isVisible = visibleKeys.includes(key);\n  \n      if (isVisible) {\n        selection\n          .style(\"display\", null)\n          .transition()\n          .duration(600)\n          .style(\"opacity\", 1);\n      } else {\n        selection\n          .transition()\n          .duration(600)\n          .style(\"opacity\", 0)\n          .on(\"end\", function () {\n            d3.select(this).style(\"display\", \"none\");\n          });\n      }\n    });\n    d3.selectAll(\"#spacer\").classed('transparent', true).classed('spacer_margin', true)\n  }  \n\nsetYearVisibility([]); // hide all groups at start\n\nd3.select(\"#step-zero\").on(\"stepin\", () => {\n    setYearVisibility([\"y2002\"]);\n  });\n  \n  d3.select(\"#step-two\").on(\"stepin\", () => {\n    setYearVisibility([\"y2007\"]);\n  });\n  \n  d3.select(\"#step-five\").on(\"stepin\", () => {\n    setYearVisibility([\"y2016\"]);\n  });\n  \n  d3.select(\"#step-seven\").on(\"stepin\", () => {\n    setYearVisibility([\"y2023\"]);\n  });\n  \n  d3.select(\"#step-nine\").on(\"stepin\", () => {\n    setYearVisibility([\"y2024\"]);\n  });  \n\n// scrolly stuff \nconst scroller = scrollama();\n\nscroller\n    .setup({\n        step: \"#scrolly .scrolly-overlay .step\",\n        offset: 0.5,\n        debug: false\n    })\n    .onStepEnter(function ({ element, index, direction }) {\n        const event = new CustomEvent('stepin', { detail: { direction: direction } })\n        element.dispatchEvent(event);\n    })\n    .onStepExit(function ({ element, index, direction }) {\n        const event = new CustomEvent('stepout', { detail: { direction: direction } })\n        element.dispatchEvent(event);\n    });\n\nwindow.addEventListener(\"resize\", scroller.resize);"]}